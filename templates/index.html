<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Form 990 Viewer</title>
  </head>
  <body>
    <h1>Form 990 Viewer</h1>
    <form method="get">
      {% for attr in filterable %}
        <label>{{ attr }}:
          <input type="text" name="{{ attr }}" value="{{ request.args.get(attr, '') }}">
        </label><br>
      {% endfor %}
      <button type="submit">Filter</button>
    </form>

    {% for record in records %}
      <h2>Record {{ loop.index }}</h2>
      <table border="1">
        {% for k, v in record.items() %}
        <tr><th>{{ k }}</th><td>{{ v }}</td></tr>
        {% endfor %}
      </table>
    {% endfor %}
  </body>
</html>
